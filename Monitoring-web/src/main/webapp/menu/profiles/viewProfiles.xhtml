<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition template="/menupage.xhtml" >
       
        <ui:define name="body"> 
         <h:form id="ProfileForm">
             <p:dataTable id="datalist" value="#{profileController.items}" var="item"
                        selectionMode="single" 
                        selection="#{profileController.selected}"
                        rowKey="#{item.idProfile}">
                 
                  <p:ajax event="rowSelect"   update="createButton "/>
                  <p:ajax event="rowUnselect" update="createButton "/>
                <f:facet name="header">
                    Profiles
                </f:facet>
                <p:column headerText="Profile ID">
                    <h:outputText value="#{item.idProfile}"/>
                    
                </p:column>
                <p:column headerText="Settings">
                    <h:panelGrid columns="2">
                        <h:outputText value="#{item.idSettings.idSettings}"  />
                         <p:commandButton id="viewSettingsButton" icon="ui-icon-search" update=":ViewSettingForm" oncomplete="PF('ViewSettingDialog').show()"/>
                    </h:panelGrid>
                </p:column>
                 <p:column headerText="Snmp">
                     <h:panelGrid columns="2">
                        <h:outputText value="#{item.idSnmp}"  />
                         <p:commandButton id="viewSnmpButton" icon="ui-icon-search" update=":ViewSnmpForm" oncomplete="PF('ViewSnmpDialog').show()"/>
                     </h:panelGrid>
                </p:column>
                <p:column headerText="Vnf">
                        <h:outputText value="#{item.idVnf.name}"  /> 
                </p:column>
                <p:column headerText="Policy List">
                    <h:outputText value="#{item.idPolicyList.name}"  />
                </p:column>
                  <f:facet name="footer">
                     <p:commandButton id="createButton" icon="ui-icon-plus"   value="#{bundle.Create}" actionListener="#{profileController.prepareCreate}" update=":ProfileCreateForm" oncomplete="PF('ProfileCreateDialog').show()"/>
                 </f:facet>
            </p:dataTable> 
             
          </h:form>
         <ui:include src="create.xhtml"/>
         <ui:include src="viewSettings.xhtml"/>
          <ui:include src="viewSnmp.xhtml"/>
<!--         <ui:include src="Edit.xhtml"/> -->
        </ui:define>
        </ui:composition>
</html>